# Simple File Explorer - Visual Architecture Diagrams

## 1. Overall System Architecture

```
┌─────────────────────────────────────────────────────────────────────────┐
│                          MAIN WINDOW                                    │
│  ┌─────────────────┐                                                    │
│  │ Explorer Button │ ◄──── Single Click: Show Simple Mode               │
│  │     [📁]        │ ◄──── Right Click: Show Context Menu               │
│  └─────────────────┘                                                    │
│           │                                                              │
│           ▼                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐│
│  │              Explorer Button Manager                                 ││
│  │  ┌─────────────┐    ┌─────────────┐    ┌─────────────────┐         ││
│  │  │   Events    │    │    State    │    │   Mode Switch   │         ││
│  │  │ Management  │    │ Management  │    │   Controller    │         ││
│  │  └─────────────┘    └─────────────┘    └─────────────────┘         ││
│  └─────────────────────────────────────────────────────────────────────┘│
│           │                                          │                   │
│           ▼                                          ▼                   │
│  ┌─────────────────────┐                   ┌─────────────────────┐      │
│  │    SIMPLE MODE      │                   │   ADVANCED MODE     │      │
│  │   (Panel View)      │                   │  (Modal Dialog)     │      │
│  │                     │                   │                     │      │
│  │ ┌─────────────────┐ │                   │ ┌─────────────────┐ │      │
│  │ │ Simple Explorer │ │                   │ │Professional     │ │      │
│  │ │     Widget      │ │                   │ │    Explorer     │ │      │
│  │ └─────────────────┘ │                   │ │    Dialog       │ │      │
│  └─────────────────────┘                   │ └─────────────────┘ │      │
│                                            └─────────────────────┘      │
└─────────────────────────────────────────────────────────────────────────┘
```

## 2. Simple Explorer Component Architecture

```
┌─────────────────────────────────────────────────────────────────────────┐
│                        Simple File Explorer                             │
├─────────────────────────────────────────────────────────────────────────┤
│                          Toolbar Layer                                  │
│  ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐     ┌─────────────────────┐   │
│  │  ←  │ │  →  │ │  ↑  │ │ 🏠  │ │  ⟳  │     │  Filter: [*.py]     │   │
│  │Prev │ │Next │ │ Up  │ │Home │ │Refr │     │                     │   │
│  └─────┘ └─────┘ └─────┘ └─────┘ └─────┘     └─────────────────────┘   │
├─────────────────────────────────────────────────────────────────────────┤
│                        File View Layer                                  │
│  ┌─────────────────────────────────────────────────────────────────────┐│
│  │                     Table Header                                    ││
│  │ ┌─────────────┬─────────┬─────────────┬──────────────────┬─────┐   ││
│  │ │ Name ▼      │ Size    │ Type        │ Modified         │ ... │   ││
│  │ └─────────────┴─────────┴─────────────┴──────────────────┴─────┘   ││
│  │                                                                     ││
│  │                     File Content                                    ││
│  │ ┌─────────────┬─────────┬─────────────┬──────────────────┬─────┐   ││
│  │ │ 📁 folder1  │         │ Folder      │ 2025-07-14 10:00 │     │   ││
│  │ │ 📄 file.py  │ 2.5 KB  │ Python      │ 2025-07-14 09:30 │     │   ││
│  │ │ 📄 readme.md│ 1.2 KB  │ Markdown    │ 2025-07-14 09:15 │     │   ││
│  │ │ ...         │         │             │                  │     │   ││
│  │ └─────────────┴─────────┴─────────────┴──────────────────┴─────┘   ││
│  └─────────────────────────────────────────────────────────────────────┘│
├─────────────────────────────────────────────────────────────────────────┤
│                        Status Bar Layer                                 │
│  125 items │ 15 folders │ 110 files │ Last updated: 10:05               │
└─────────────────────────────────────────────────────────────────────────┘
```

## 3. Data Flow Architecture

```
┌─────────────────────────────────────────────────────────────────────────┐
│                           Data Flow                                      │
└─────────────────────────────────────────────────────────────────────────┘
                                │
                                ▼
                    ┌───────────────────────┐
                    │    User Interaction   │
                    │ (Button Click/Nav)    │
                    └───────────────────────┘
                                │
                                ▼
                    ┌───────────────────────┐
                    │ Explorer Button Mgr   │
                    │   Route to Mode       │
                    └───────────────────────┘
                           │           │
                    ┌──────────┐  ┌──────────┐
                    ▼          │  │          ▼
            ┌─────────────┐    │  │    ┌─────────────┐
            │Simple Mode  │    │  │    │Advanced Mode│
            │ Controller  │    │  │    │ Controller  │
            └─────────────┘    │  │    └─────────────┘
                    │          │  │          │
                    ▼          │  │          ▼
            ┌─────────────┐    │  │    ┌─────────────┐
            │Simple File  │    │  │    │Professional│
            │System Model │    │  │    │File Model  │
            └─────────────┘    │  │    └─────────────┘
                    │          │  │          │
                    ▼          │  │          ▼
            ┌─────────────┐    │  │    ┌─────────────┐
            │ Simple View │    │  │    │Advanced View│
            │ (Table)     │    │  │    │(Multi-mode)│
            └─────────────┘    │  │    └─────────────┘
                               │  │
                               ▼  ▼
                    ┌───────────────────────┐
                    │   Settings Manager    │
                    │  (Persistent State)   │
                    └───────────────────────┘
```

## 4. Navigation History Architecture

```
┌─────────────────────────────────────────────────────────────────────────┐
│                        Navigation History                                │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  ┌─────────┐     ┌─────────┐     ┌─────────┐     ┌─────────┐           │
│  │ Path 1  │ ◄── │ Path 2  │ ◄── │ Path 3  │ ◄── │ Path 4  │           │
│  │ /home   │     │ /home/  │     │ /home/  │     │ /home/  │           │
│  │         │     │ user    │     │ user/   │     │ user/   │           │
│  │         │     │         │     │ docs    │     │ docs/   │           │
│  │         │     │         │     │         │     │ project │           │
│  └─────────┘     └─────────┘     └─────────┘     └─────────┘           │
│                                          ▲                              │
│                                          │                              │
│                                   Current Position                      │
│                                                                         │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                    Button States                                 │   │
│  │  ┌─────┐     ┌─────┐     ┌─────┐     ┌─────┐     ┌─────┐        │   │
│  │  │  ←  │     │  →  │     │  ↑  │     │ 🏠  │     │  ⟳  │        │   │
│  │  │ ON  │     │ OFF │     │ ON  │     │ ON  │     │ ON  │        │   │
│  │  │     │     │     │     │     │     │     │     │     │        │   │
│  │  └─────┘     └─────┘     └─────┘     └─────┘     └─────┘        │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│                                                                         │
│  States:                                                                │
│  • Previous (←): Enabled if current_index > 0                          │
│  • Next (→): Enabled if current_index < history_length - 1             │
│  • Up (↑): Enabled if current_path has parent                          │
│  • Home (🏠): Always enabled                                           │
│  • Refresh (⟳): Always enabled                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

## 5. Context Menu Architecture

```
┌─────────────────────────────────────────────────────────────────────────┐
│                        Context Menu System                              │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  Explorer Button Right-Click                                           │
│  ┌─────────────────────────────────────────┐                           │
│  │ ┌─────────────────────────────────────┐ │                           │
│  │ │ Simple Mode              ✓          │ │ ◄── Current mode          │
│  │ │ Advanced Mode                       │ │                           │
│  │ ├─────────────────────────────────────┤ │                           │
│  │ │ Settings...                         │ │                           │
│  │ │ Help                                │ │                           │
│  │ └─────────────────────────────────────┘ │                           │
│  └─────────────────────────────────────────┘                           │
│                                                                         │
│  File Table Header Right-Click                                         │
│  ┌─────────────────────────────────────────┐                           │
│  │ ┌─────────────────────────────────────┐ │                           │
│  │ │ List View                ✓          │ │ ◄── Current view          │
│  │ │ Icon View                           │ │                           │
│  │ │ Compact View                        │ │                           │
│  │ ├─────────────────────────────────────┤ │                           │
│  │ │ Show Hidden Files                   │ │                           │
│  │ │ Show File Extensions      ✓         │ │                           │
│  │ ├─────────────────────────────────────┤ │                           │
│  │ │ Auto-resize Columns                 │ │                           │
│  │ │ Reset Column Layout                 │ │                           │
│  │ └─────────────────────────────────────┘ │                           │
│  └─────────────────────────────────────────┘                           │
│                                                                         │
│  File/Folder Right-Click                                               │
│  ┌─────────────────────────────────────────┐                           │
│  │ ┌─────────────────────────────────────┐ │                           │
│  │ │ Open                                │ │                           │
│  │ │ View Content...                     │ │ ◄── New feature           │
│  │ ├─────────────────────────────────────┤ │                           │
│  │ │ Copy                                │ │                           │
│  │ │ Cut                                 │ │                           │
│  │ │ Delete                              │ │                           │
│  │ │ Rename                              │ │                           │
│  │ ├─────────────────────────────────────┤ │                           │
│  │ │ Properties...                       │ │                           │
│  │ └─────────────────────────────────────┘ │                           │
│  └─────────────────────────────────────────┘                           │
└─────────────────────────────────────────────────────────────────────────┘
```

## 6. File Content Viewer Architecture

```
┌─────────────────────────────────────────────────────────────────────────┐
│                       File Content Viewer                               │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  Right-click → "View Content"                                           │
│                    │                                                    │
│                    ▼                                                    │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │              File Type Detection                                 │   │
│  │                                                                  │   │
│  │  ┌─────────┐  ┌─────────┐  ┌─────────┐  ┌─────────┐  ┌─────────┐│   │
│  │  │  Text   │  │ Image   │  │  Code   │  │ Binary  │  │ Archive ││   │
│  │  │ Files   │  │ Files   │  │ Files   │  │ Files   │  │ Files   ││   │
│  │  └─────────┘  └─────────┘  └─────────┘  └─────────┘  └─────────┘│   │
│  │       │           │           │           │           │         │   │
│  └───────┼───────────┼───────────┼───────────┼───────────┼─────────┘   │
│          ▼           ▼           ▼           ▼           ▼             │
│                                                                         │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                    Viewer Dialog                                 │   │
│  │  ┌─────────────────────────────────────────────────────────────┐│   │
│  │  │ Title: filename.ext                               [✕] Close ││   │
│  │  ├─────────────────────────────────────────────────────────────┤│   │
│  │  │                                                             ││   │
│  │  │                Content Display Area                        ││   │
│  │  │         (Text Editor / Image View / Hex View)               ││   │
│  │  │                                                             ││   │
│  │  │                                                             ││   │
│  │  ├─────────────────────────────────────────────────────────────┤│   │
│  │  │ Size: 2.5 KB │ Type: Python │ Modified: 2025-07-14 09:30   ││   │
│  │  └─────────────────────────────────────────────────────────────┘│   │
│  └─────────────────────────────────────────────────────────────────┘   │
│                                                                         │
│  Content Types:                                                         │
│  • Text/Code: Syntax highlighted editor (read-only)                    │
│  • Images: Scaled image view with zoom controls                        │
│  • Binary: Hex viewer with ASCII column                                │
│  • Archives: Directory listing of contents                             │
│  • Large Files: Partial loading with scroll                           │
└─────────────────────────────────────────────────────────────────────────┘
```

## 7. Settings Integration Architecture

```
┌─────────────────────────────────────────────────────────────────────────┐
│                      Settings Architecture                              │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                    QSettings Storage                            │   │
│  │                                                                  │   │
│  │  explorer/current_directory  = "/home/user/projects"            │   │
│  │  explorer/view_mode          = "simple"                         │   │
│  │  explorer/simple_mode_view   = "list"                           │   │
│  │  explorer/column_widths      = {name: 200, size: 80, ...}       │   │
│  │  explorer/sort_column        = 0                                │   │
│  │  explorer/sort_order         = "ascending"                      │   │
│  │  explorer/filter_pattern     = "*.py"                           │   │
│  │  explorer/show_hidden        = false                            │   │
│  │  explorer/navigation_history = ["/path1", "/path2", ...]        │   │
│  │  explorer/window_geometry    = "800x600+100+100"                │   │
│  │  explorer/bookmarks          = ["/home", "/projects", ...]      │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│                                │                                        │
│                                ▼                                        │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                  Settings Manager                               │   │
│  │                                                                  │   │
│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────┐│   │
│  │  │   Load      │  │    Save     │  │   Validate  │  │ Default ││   │
│  │  │  Settings   │  │  Settings   │  │  Settings   │  │ Values  ││   │
│  │  └─────────────┘  └─────────────┘  └─────────────┘  └─────────┘│   │
│  └─────────────────────────────────────────────────────────────────┘   │
│                                │                                        │
│                                ▼                                        │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                Component Integration                             │   │
│  │                                                                  │   │
│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────┐│   │
│  │  │  Explorer   │  │   Toolbar   │  │  File View  │  │ History ││   │
│  │  │  Manager    │  │             │  │             │  │         ││   │
│  │  └─────────────┘  └─────────────┘  └─────────────┘  └─────────┘│   │
│  └─────────────────────────────────────────────────────────────────┘   │
│                                                                         │
│  Auto-save Triggers:                                                    │
│  • Directory change                                                     │
│  • Column resize                                                        │
│  • View mode change                                                     │
│  • Window close                                                         │
│  • Application exit                                                     │
└─────────────────────────────────────────────────────────────────────────┘
```

This visual architecture provides a comprehensive overview of how the simple file explorer system will be structured, showing the relationships between components, data flow, and user interaction patterns.
